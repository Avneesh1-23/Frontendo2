{"ast":null,"code":"var _jsxFileName = \"/Users/jaysingh/Frontendo/src/components/AddApplicationForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { api } from '../services/api';\nimport '../styles/AddApplicationForm.css'; // You'll need to create this CSS file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddApplicationForm({\n  onApplicationAdded\n}) {\n  _s();\n  const [newApp, setNewApp] = useState({\n    name: '',\n    url: '',\n    roles: ''\n  });\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const handleAddApplication = async () => {\n    if (newApp.name && newApp.url) {\n      try {\n        const roles = newApp.roles ? newApp.roles.split(',').map(role => role.trim()).filter(role => role) : [];\n        const application = {\n          app_name: newApp.name,\n          app_url: newApp.url,\n          description: newApp.roles,\n          // Assuming description can be roles string for now\n          roles: roles,\n          created_by: 2 // Placeholder for logged-in user ID\n        };\n        await api.createApplication(application);\n        setNewApp({\n          name: '',\n          url: '',\n          roles: ''\n        });\n        setSuccess('Application added successfully');\n        setTimeout(() => setSuccess(null), 3000);\n\n        // Callback to notify parent (Dashboard) that an app was added, so it can re-fetch or update lists\n        if (onApplicationAdded) {\n          onApplicationAdded();\n        }\n      } catch (err) {\n        var _err$response, _err$response$data;\n        setError(`Failed to add application: ${((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message}`);\n        setTimeout(() => setError(null), 3000);\n      }\n    } else {\n      setError('Please fill in all required fields');\n      setTimeout(() => setError(null), 3000);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"add-application-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Add New Application\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-application-form\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 19\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Application Name\",\n        value: newApp.name,\n        onChange: e => setNewApp({\n          ...newApp,\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Application URL\",\n        value: newApp.url,\n        onChange: e => setNewApp({\n          ...newApp,\n          url: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Roles (comma-separated)\",\n        value: newApp.roles,\n        onChange: e => setNewApp({\n          ...newApp,\n          roles: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddApplication,\n        children: \"Add Application\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(AddApplicationForm, \"1ElAxZ07IbKZXggZg7G13tv4tlk=\");\n_c = AddApplicationForm;\nexport default AddApplicationForm;\nvar _c;\n$RefreshReg$(_c, \"AddApplicationForm\");","map":{"version":3,"names":["React","useState","api","jsxDEV","_jsxDEV","AddApplicationForm","onApplicationAdded","_s","newApp","setNewApp","name","url","roles","error","setError","success","setSuccess","handleAddApplication","split","map","role","trim","filter","application","app_name","app_url","description","created_by","createApplication","setTimeout","err","_err$response","_err$response$data","response","data","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["/Users/jaysingh/Frontendo/src/components/AddApplicationForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { api } from '../services/api';\nimport '../styles/AddApplicationForm.css'; // You'll need to create this CSS file\n\nfunction AddApplicationForm({ onApplicationAdded }) {\n  const [newApp, setNewApp] = useState({ name: '', url: '', roles: '' });\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  const handleAddApplication = async () => {\n    if (newApp.name && newApp.url) {\n      try {\n        const roles = newApp.roles\n          ? newApp.roles.split(',').map(role => role.trim()).filter(role => role)\n          : [];\n\n        const application = {\n          app_name: newApp.name,\n          app_url: newApp.url,\n          description: newApp.roles, // Assuming description can be roles string for now\n          roles: roles,\n          created_by: 2 // Placeholder for logged-in user ID\n        };\n        \n        await api.createApplication(application);\n        setNewApp({ name: '', url: '', roles: '' });\n        setSuccess('Application added successfully');\n        setTimeout(() => setSuccess(null), 3000);\n\n        // Callback to notify parent (Dashboard) that an app was added, so it can re-fetch or update lists\n        if (onApplicationAdded) {\n          onApplicationAdded();\n        }\n\n      } catch (err) {\n        setError(`Failed to add application: ${err.response?.data?.message || err.message}`);\n        setTimeout(() => setError(null), 3000);\n      }\n    } else {\n      setError('Please fill in all required fields');\n      setTimeout(() => setError(null), 3000);\n    }\n  };\n\n  return (\n    <div className=\"add-application-container\">\n      <h3>Add New Application</h3>\n      <div className=\"add-application-form\">\n        {error && <div className=\"error-message\">{error}</div>}\n        {success && <div className=\"success-message\">{success}</div>}\n        <input\n          type=\"text\"\n          placeholder=\"Application Name\"\n          value={newApp.name}\n          onChange={(e) => setNewApp({ ...newApp, name: e.target.value })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Application URL\"\n          value={newApp.url}\n          onChange={(e) => setNewApp({ ...newApp, url: e.target.value })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Roles (comma-separated)\"\n          value={newApp.roles}\n          onChange={(e) => setNewApp({ ...newApp, roles: e.target.value })}\n        />\n        <button onClick={handleAddApplication}>Add Application</button>\n      </div>\n    </div>\n  );\n}\n\nexport default AddApplicationForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}